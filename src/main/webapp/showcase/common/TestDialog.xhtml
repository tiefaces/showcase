<ui:composition template="/templates/showcase.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:tie="http://java.sun.com/jsf/composite/tiefaces">

	<ui:define name="meta">
		<f:metadata>
			<f:attribute name="api.path" value="common/TableLookup" />
			<f:attribute name="src.paths"
				value="classes/org/tiefaces/showcase/tablelookup/Item.java,classes/org/tiefaces/showcase/tablelookup/ItemSearchBean.java,classes/org/tiefaces/showcase/tablelookup/ItemSearchHelper.java" />

		</f:metadata>
	</ui:define>

	<ui:define name="description-extra">
		<ui:include src="/includes/common/desc-tablelookup.xhtml" />
	</ui:define>


	<ui:define name="demo">

		<h3>Test Dialog</h3>

<h:form id="form">
    <p:dataGrid var="mine" value="#{myBean.myList}"
            columns="4" layout="grid" rows="#{mine.columns}" paginator="true"
        paginatorPosition="bottom" id="comp" paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}">
    <p:panel header="#{mine.myName}" style="text-align:center">
        <h:panelGrid columns="1" style="width:100%">
        <p:graphicImage value="#{images.img}" width="150" height="150">
            <f:param name="id" value="#{mine.id}" />
        </p:graphicImage>
        <h:outputText value="#{mine.price}" />
        <p:commandLink update=":dialogForm:mydetails" actionListener="#{myBean.onLinkClick}" oncomplete="PF('testDlg').show()" value="Click">
            <f:setPropertyActionListener value="#{mine}" target="#{myBean.selectedComp}" />
        </p:commandLink>                         
            </h:panelGrid>
    </p:panel>
    </p:dataGrid>    
    <p:dialog id="testDlg" widgetVar="testDialog" header="My Details" modal="true" showEffect="clip" hideEffect="clip" resizable="false">
    <h:panelGrid id="mydetails" columns="2" columnClasses="label,value" style="border:0px">
        <f:facet name="header">
            <p:graphicImage value="#{images.img}" width="150" height="150">
                <f:param name="id" value="#{myBean.selectedComp.id}" />
            </p:graphicImage>
        </f:facet>
            <h:outputText value="Name:" />
            <h:outputText value="#{myBean.selectedComp.myName}" />
 
            <h:outputText value="Price" />
            <h:outputText value="#{myBean.selectedComp.price}" />
        </h:panelGrid>
      </p:dialog>
</h:form>

	</ui:define>

</ui:composition>
<ui:composition template="/templates/showcase.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:tie="http://java.sun.com/jsf/composite/tiefaces">

	<ui:define name="meta">
		<f:metadata>
			<f:attribute name="api.path" value="common/TableLookup" />
			<f:attribute name="src.paths"
				value="classes/org/tiefaces/showcase/tablelookup/Item.java,classes/org/tiefaces/showcase/tablelookup/ItemSearchBean.java,classes/org/tiefaces/showcase/tablelookup/ItemSearchHelper.java" />

		</f:metadata>
	</ui:define>

	<ui:define name="description-extra">
		<ui:include src="/includes/common/desc-tablelookup.xhtml" />
	</ui:define>


	<ui:define name="demo">

		<h3>Simple search</h3>

		<h:form>
			<tie:tablelookup lookupBean="#{itemSearchBean}"
				searchButtonText="Search" searchButtonStyle="font-size: 12px;">
			</tie:tablelookup>
		</h:form>

		<h3>Include paginator and export functions</h3>

		<h:form>
			<tie:tablelookup lookupBean="#{itemSearchBean}"
				paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {Exporters}"
				paginator="true" rows="10" searchButtonText="Search"
				searchButtonStyle="font-size: 12px;">

				<f:facet name="{Exporters}">
					<h:commandLink>
						<p:graphicImage name="/layout/img/excel.png" width="24" />
						<p:dataExporter type="xls" target="tbl" fileName="prices" />
					</h:commandLink>

					<h:commandLink>
						<p:graphicImage name="/layout/img/pdf.png" width="24" />
						<p:dataExporter type="pdf" target="tbl" fileName="prices" />
					</h:commandLink>

					<h:commandLink>
						<p:graphicImage name="/layout/img/csv.png" width="24" />
						<p:dataExporter type="csv" target="tbl" fileName="prices" />
					</h:commandLink>

					<h:commandLink>
						<p:graphicImage name="/layout/img/xml.png" width="24" />
						<p:dataExporter type="xml" target="tbl" fileName="prices" />
					</h:commandLink>
				</f:facet>

			</tie:tablelookup>
		</h:form>
		
		<h3>Pop up window with Lookup</h3>

		<h:form id="form">
			<p:panel id="panel" header="Item" style="margin-bottom:10px;">
				<h:panelGrid columns="2" cellpadding="5">
					<p:outputLabel value="Code:" />
					<p:outputLabel
						value="#{itemSearchBean.selectedItem.code}" />
					<p:outputLabel value="Name:" />
					<p:outputLabel
						value="#{itemSearchBean.selectedItem.name}" />
					<p:outputLabel value="Description:" />
					<p:outputLabel
						value="#{itemSearchBean.selectedItem.description}" />
					<p:outputLabel value="Price:" />
					<p:outputLabel
						value="#{itemSearchBean.selectedItem.price}" />
				</h:panelGrid>
			</p:panel>

			<p:commandButton value="Search"
				onclick="PF('tielookupDialog').show();" />

			<p:dialog header="Search/Choose Item" showEffect="fade"
				widgetVar="tielookupDialog" modal="true" width="780" height="400">
				<tie:tablelookup lookupBean="#{itemSearchBean}"
					searchButtonText="Search" searchButtonStyle="font-size: 12px;"
					showSelectButton="true" selectButtonText="Select"
					selectButtonStyle="font-size: 12px;">
				</tie:tablelookup>
			</p:dialog>
		</h:form>
	</ui:define>

</ui:composition>